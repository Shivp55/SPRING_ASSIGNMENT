<!DOCTYPE html>
<html lang="en">

<head>
<!-- Meta tags for character set and viewport -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Link to external CSS files -->
<link rel="stylesheet" href="../css/user-signup.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="../img/favicon-32x32.png">
<!-- Jquery Swal fire -->
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<!-- Preconnect links for fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
	rel="stylesheet">
<!-- Font Awesome Icons -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- JQuery -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<!-- Data Tables -->
<script src="../js/datatables/jquery.dataTables.min.js"></script>
<!-- Database Storage -->
<script src="./js/dataStorage.js"></script>
<!-- Table -->
<script src="../js/table.js"></script>
<!-- Form Validation -->
<script src="../js/formValidation.js"></script>


<!-- Title of the page -->
<style>
/* body {font-family: Arial, Helvetica, sans-serif;}
 */
/* The Modal (background) */
/* Modal styles */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto; /* Enable scroll if needed */
  background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */
}

.modal-content {
  background-color: #fefefe;
  margin: 15% auto; /* 15% from the top and centered */
  padding: 20px;
  border: 1px solid #888;
  width: 80%; /* Could be more or less, depending on screen size */
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}
</style>

<title>Customer Account</title>
<style>
#message {
	display: none;
	background: #f1f1f1;
}

#message span {
	padding: 10px 10px;
	font-size: 12px;
}

/* Add a green text color and a checkmark when the requirements are right */
.valid {
	color: green;
}

.valid:before {
	position: relative;
	left: -5px;
	content: "✔";
}

/* Add a red text color and an "x" when the requirements are wrong */
.invalid {
	color: red;
}

.invalid:before {
	position: relative;
	left: -5px;
	content: "✖";
}
</style>
<script>
	
</script>

</head>

<body>
	<!-- Header Section -->
	<header>
		<!-- Logo and Contact Information -->
		<!-- Nav bar -->
		<script src="../js/PostLogin/responsive_navbar.js"></script>
		<!-- //Nav Bar -->
	</header>
	<!-- //Header Section -->

	<!-- Banner Section -->
	<section class="banner">
		<div class="banner-box">
			<div class="banner-box-container">
				<h1>Create An Account</h1>
			</div>
			<!-- Typewriter Effect for Instruction -->
			<div class="typewriter">
				<h1>Please Create An Account By Filling The Form Below</h1>
			</div>
			<!--Create Account Form -->
			<div>
				<form name="signup_form" id="signup_form" style="width: 30%;"
					class="form-box" onsubmit="return validate_accountform(event);">
					<table>
						<tr>
							<td>
								<!-- Input for First Name -->
								<div class="inputbox" id="account_number">
									<ion-icon name="mail-outline"xxxxx \></ion-icon>
									<input type="text" id="account_no" name="account_no"> <label
										for="">Account Number</label>
								</div> <!-- <span id="fname_validate" style="font-size: 12px ; color:red; font-weight:600; margin-top:16px;"></span> -->
							</td>
						</tr>
						<tr>
							<td>
								<!-- Input for Middle Name -->
								<div class="inputbox" id="customer_id">
									<ion-icon name="mail-outline"></ion-icon>
									<input type="text" id="cust_id" name="cust_id"> <label
										for="">Customer Id</label>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<!-- Input for First Name -->
								<div class="inputbox" id="balance">
									<ion-icon name="mail-outline"xxxxx ></ion-icon>
									<input type="text" id="balance_amt" name="account_no">
									<label for="">Balance</label>
								</div> <!-- <span id="fname_validate" style="font-size: 12px ; color:red; font-weight:600; margin-top:16px;"></span> -->
							</td>
						</tr>
						<tr>
							<td>
								<!-- Input  -->
								<div class="form_radio">
									<span>Statis:&nbsp;</span> <label class="radio_btn">Active
										<input type="radio" name="radio" id="active" value="active"
										checked="checked"> <span class="checkmark"></span>
									</label> <label class="radio_btn">Inactive <input type="radio"
										name="radio" id="inactive" value="inactive"> <span
										class="checkmark"></span>
									</label>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<!-- Dropdown for Account Type --> <select id="selectaccnt"
								name="selectaccnt"
								style="background-color: transparent; color: white; border: 2px solid white;">
									<option selected>Type of Account</option>
									<option>Current</option>
									<option>Savings</option>
									<option>Fixed Deposit Account</option>
							</select>
							</td>
						</tr>
						<tr>
							<td colspan="3"></td>
						</tr>
						<!-- Submit Button -->
						<tr>

							<td><input type="hidden" name="action" value="register">
								<button type="submit" id="account_register"
									class="user_register">Create Account</button></td>
							<td></td>
						</tr>
						<tr>
							<td>
                            <input type="hidden" name="action" value="get-accounts">
                                <button type="submit" id="get-accounts" class="get-user">Get Accounts</button>
                            
                            </td>
						</tr>
					</table>
				</form>
			</div>
		</div>
	</section>
	<!-- //Banner Section -->

	<!-- Data Table Section -->
	<div class="card">
		<div id="example">
			<table id="kt-datatable" class="table table-striped table-bordered"
				width="100%">
				<thead>
					<th>Customer Id</th>
					<th>Account Number</th>
					<th>Balance</th>
					<th>Account Type</th>
					<th>Status</th>
					
				</thead>
			</table>
		</div>
	</div>
	<!-- Hidden modal -->
<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <table id="modal-table">
    	<thead>
                	<th>Customer Id</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Address</th>
                    <th>Postal Code</th>
                    <th>Password</th>
                    <th>Phone Number</th>
                    <th>DOB</th>
                    <th>Gender</th>
                </thead>
                <tbody></tbody>
      <!-- Table content will be dynamically added here -->
    </table>
  </div>
</div>
	

	<!-- Footer Section -->
	<footer class="footer" style="margin-top:100px; ">
		<div class="footer-container">
			<!-- Social Media Icons -->
			<div class="social-container">
				<img src="../img/icon-facebook.svg" alt=""> <img
					src="../img/icon-instagram.svg" alt=""> <img
					src="../img/icon-twitter.svg" alt=""> <img
					src="../img/icon-pinterest.svg" alt="">
			</div>
			<!-- Footer Menu Links -->
			<div class="menu">
				<a href="../about-us.html">About Us</a> <a href="../contact-us.html">Contact
					Us</a> <a href="#blog-section">Blog</a>
			</div>
			<div class="menu">
				<a href="#">Careers</a> <a href="#">Support</a> <a href="#">Privacy
					Policy</a>
			</div>
			<button>User Login</button>
		</div>
	</footer>
	<!-- //Footer Section -->
	<style>
#kt-datatable, #modal-table {
	border: 1px solid black;
	font-size: 12px;
	font-family: Arial;
}

#kt-datatable th,#modal-table th  {
	background: #007bff;
	padding: 10px;
	color: white;
}

#kt-datatable td, #modal-table td {
	padding: 10px;
}

.current-row {
	background-color: coral;
}

.current-col {
	/* background-color: cyan; */
	
}
</style>
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> -->

	<script type="text/javascript">
	document.getElementById("get-accounts").addEventListener("click", function() {
	    var btn = this; // Use "this" to refer to the clicked button

	    // Show loader animation
	    btn.innerHTML = "<div class='loader'></div>";

	    // Start a timer for the animation to finish
	    var timeout = setTimeout(function() {
	        console.log("Work done");

	        // When the work is done, reset the button to original state
	        btn.innerHTML = 'Get Accounts';

	        // After the animation finishes, show SweetAlert
	        swal({
	            title: "Accounts Data Retrieved",
	            text: "Please check the table below to confirm your account",
	            icon: "success",
	            button: "OK",
	        });

	        // Make AJAX request to get accounts data
	        $.ajax({
	            url: "/CITIBANK/get-accounts",
	            type: "GET",
	            contentType: "application/json",
	            success: function(data) {
	                // Reload table with new data
	                reloadAndCreateTable(data);
	                console.log(data);
	            }
	        });

	        // Reset form
	        document.getElementById("signup_form").reset();
	    }, 3000);

	    // Clear the timeout if the button is clicked before the animation finishes
	    btn.addEventListener('click', function clearTimer() {
	        clearTimeout(timeout);
	        btn.innerHTML = "<div class='loader'></div> Get Users"; // Reset button text

	        // Remove the event listener to prevent adding multiple event listeners
	        btn.removeEventListener('click', clearTimer);
	    });
	});


  
	</script>

	
</body>

</html>